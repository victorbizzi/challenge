{"uid":"abd5ce41cc7ea17","name":"POST /todos - Title longer than 250 characters","fullName":"tests.test_todos#test_create_todo_invalid_payload","historyId":"b2736602c998bb37d075b62fe2d443c8","time":{"start":1768301829424,"stop":1768301829606,"duration":182},"status":"failed","statusMessage":"AssertionError: Expected 400 or 422, got 200. Body: \"cc3dbe95-d057-4efb-ac2f-629d9cef6de0\"\nassert 200 in (400, 422)\n +  where 200 = <Response [200]>.status_code","statusTrace":"api_client = <utils.api_client.ApiClient object at 0x000001E75FB4AB90>\npayload = {'details': 'Understand second contain government. Environmental not several tree person.\\nDrug movement practice task...AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', 'user': 'victorbizzi'}\ndescription = 'Title longer than 250 characters'\n\n    @allure.feature(\"Todos API\")\n    @allure.story(\"POST /todos - Validation errors for invalid payloads\")\n    @pytest.mark.api\n    @pytest.mark.parametrize(\n        \"payload, description\",\n        [\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"details\": fake.text(max_nb_chars=50)\n                },\n                \"Missing title\"\n            ),\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"title\": fake.sentence(nb_words=4)\n                },\n                \"Missing details\"\n            ),\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"title\": \"A\" * 251,\n                    \"details\": fake.text(max_nb_chars=250)\n                },\n                \"Title longer than 250 characters\"\n            ),\n            (\n                    {\n                        \"id\": \"\",\n                        \"user\": \"victorbizzi\",\n                        \"title\": fake.sentence(nb_words=4),\n                        \"details\": fake.text(max_nb_chars=1200),\n                    },\n                    \"Details longer than 1100 characters\",\n            ),\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"title\": fake.sentence(nb_words=4),\n                    \"details\": \"\"\n                },\n                \"Empty details\"\n            ),\n            (\n                {},\n                \"Empty payload\"\n            ),\n        ]\n    )\n    @allure.title(\"POST /todos - {description}\")\n    def test_create_todo_invalid_payload(api_client, payload, description):\n        attach_payload(f\"Invalid Payload - {description}\", payload)\n    \n        resp = api_client.post(\"/todos\", json_body=payload)\n    \n>       assert resp.status_code in (400, 422), (\n            f\"Expected 400 or 422, got {resp.status_code}. Body: {resp.text}\"\n        )\nE       AssertionError: Expected 400 or 422, got 200. Body: \"cc3dbe95-d057-4efb-ac2f-629d9cef6de0\"\nE       assert 200 in (400, 422)\nE        +  where 200 = <Response [200]>.status_code\n\ntests\\test_todos.py:129: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1768301827369,"stop":1768301827369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0},{"name":"require_integration_env","time":{"start":1768301827370,"stop":1768301827414,"duration":44},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0},{"name":"api_client","time":{"start":1768301827414,"stop":1768301827414,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":0}],"testStage":{"status":"failed","statusMessage":"AssertionError: Expected 400 or 422, got 200. Body: \"cc3dbe95-d057-4efb-ac2f-629d9cef6de0\"\nassert 200 in (400, 422)\n +  where 200 = <Response [200]>.status_code","statusTrace":"api_client = <utils.api_client.ApiClient object at 0x000001E75FB4AB90>\npayload = {'details': 'Understand second contain government. Environmental not several tree person.\\nDrug movement practice task...AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', 'user': 'victorbizzi'}\ndescription = 'Title longer than 250 characters'\n\n    @allure.feature(\"Todos API\")\n    @allure.story(\"POST /todos - Validation errors for invalid payloads\")\n    @pytest.mark.api\n    @pytest.mark.parametrize(\n        \"payload, description\",\n        [\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"details\": fake.text(max_nb_chars=50)\n                },\n                \"Missing title\"\n            ),\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"title\": fake.sentence(nb_words=4)\n                },\n                \"Missing details\"\n            ),\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"title\": \"A\" * 251,\n                    \"details\": fake.text(max_nb_chars=250)\n                },\n                \"Title longer than 250 characters\"\n            ),\n            (\n                    {\n                        \"id\": \"\",\n                        \"user\": \"victorbizzi\",\n                        \"title\": fake.sentence(nb_words=4),\n                        \"details\": fake.text(max_nb_chars=1200),\n                    },\n                    \"Details longer than 1100 characters\",\n            ),\n            (\n                {\n                    \"id\": \"\",\n                    \"user\": \"victorbizzi\",\n                    \"title\": fake.sentence(nb_words=4),\n                    \"details\": \"\"\n                },\n                \"Empty details\"\n            ),\n            (\n                {},\n                \"Empty payload\"\n            ),\n        ]\n    )\n    @allure.title(\"POST /todos - {description}\")\n    def test_create_todo_invalid_payload(api_client, payload, description):\n        attach_payload(f\"Invalid Payload - {description}\", payload)\n    \n        resp = api_client.post(\"/todos\", json_body=payload)\n    \n>       assert resp.status_code in (400, 422), (\n            f\"Expected 400 or 422, got {resp.status_code}. Body: {resp.text}\"\n        )\nE       AssertionError: Expected 400 or 422, got 200. Body: \"cc3dbe95-d057-4efb-ac2f-629d9cef6de0\"\nE       assert 200 in (400, 422)\nE        +  where 200 = <Response [200]>.status_code\n\ntests\\test_todos.py:129: AssertionError","steps":[{"name":"POST https://j25m87y4z7.execute-api.eu-west-2.amazonaws.com/dev/todos","time":{"start":1768301829424,"stop":1768301829606,"duration":182},"status":"passed","steps":[],"attachments":[{"uid":"65ca316f66eab295","name":"request_headers","source":"65ca316f66eab295.json","type":"application/json","size":1090},{"uid":"630db5bcc7aaa48b","name":"request_body","source":"630db5bcc7aaa48b.json","type":"application/json","size":533},{"uid":"dbc7c1f8ece20c8","name":"response_status","source":"dbc7c1f8ece20c8.txt","type":"text/plain","size":3},{"uid":"835a1a20513c7e00","name":"response_body","source":"835a1a20513c7e00.json","type":"application/json","size":38}],"parameters":[],"hasContent":true,"stepsCount":0,"shouldDisplayMessage":false,"attachmentStep":false,"attachmentsCount":4}],"attachments":[{"uid":"87217d1efa6cca40","name":"Invalid Payload - Title longer than 250 characters","source":"87217d1efa6cca40.json","type":"application/json","size":533}],"parameters":[],"hasContent":true,"stepsCount":1,"shouldDisplayMessage":true,"attachmentStep":false,"attachmentsCount":5},"afterStages":[],"labels":[{"name":"story","value":"POST /todos - Validation errors for invalid payloads"},{"name":"feature","value":"Todos API"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"test_todos"},{"name":"host","value":"DESKTOP-N2N5FAD"},{"name":"thread","value":"19052-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_todos"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"description","value":"'Title longer than 250 characters'"},{"name":"payload","value":"{'id': '', 'user': 'victorbizzi', 'title': 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', 'details': 'Understand second contain government. Environmental not several tree person.\\nDrug movement practice task million realize street. Drive instead guy wind.\\nPublic short cell thought. Family mouth score drug save.'}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":["api"]},"source":"abd5ce41cc7ea17.json","parameterValues":["'Title longer than 250 characters'","{'id': '', 'user': 'victorbizzi', 'title': 'AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA', 'details': 'Understand second contain government. Environmental not several tree person.\\nDrug movement practice task million realize street. Drive instead guy wind.\\nPublic short cell thought. Family mouth score drug save.'}"]}